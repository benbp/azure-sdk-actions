name: 'Azure SDK GitHub Event Handler'
description: 'Handle GitHub event'
inputs:
  token:
    description: "GitHub Event Token"
    required: true
runs:
  using: "composite"
  steps:
    - run: |
        cd $GITHUB_ACTION_PATH
        go run . $GITHUB_EVENT_PATH
      shell: bash
      env:
        GITHUB_TOKEN: ${{ inputs.token }}

    - name: Archive github event data
      uses: actions/upload-artifact@v4
      if: always()
      with:
        name: event
        path: ${{ vars.GITHUB_EVENT_PATH }}
